# This file is managed with Chef. For changes to persist, edit http_platform/templates/site-ssl.conf.erb
<% @params[:host_names].each do |host, _| -%>

<VirtualHost *:443>
  ServerName <%= host %>

  <% if node['platform_family'] == 'debian' -%>
  ErrorLog ${APACHE_LOG_DIR}/<%= host %>_error.log
  CustomLog ${APACHE_LOG_DIR}/<%= host %>_access.log combined
  <% else -%>
  ErrorLog logs/<%= host %>_error.log
  CustomLog logs/<%= host %>_access.log combined
  <% end -%>

  <% node['http_platform']['apache']['paths_to_additional_configs'].each do |conf, _| -%>
  Include <%= conf %>
  <% end -%>
</VirtualHost>
<% end -%>
