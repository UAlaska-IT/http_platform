# This file is managed with Chef. For changes to persist, edit http_platform/templates/site-ssl.conf.erb

<VirtualHost *:443>
  ServerName <%= @params[:www_server_name] %>
  ServerAlias <%= @params[:plain_server_name] %>
  <% @params[:additional_aliases].each do |www_host, plain_host| -%>
  ServerAlias <%= www_host %>
  ServerAlias <%= plain_host %>
  <% end -%>

  <% if node['platform_family'] == 'debian' -%>
  ErrorLog ${APACHE_LOG_DIR}/error.log
  CustomLog ${APACHE_LOG_DIR}/access.log combined
  <% else -%>
  ErrorLog logs/error.log
  CustomLog logs/access.log combined
  <% end -%>

  <% node['http_platform']['apache']['paths_to_additional_configs'].each do |conf, _| -%>
  Include <%= conf %>
  <% end -%>
</VirtualHost>
